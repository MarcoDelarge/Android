<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="cells-product-summary-deposit-styles" assetpath="cells-product-summary-deposit/"><template><style>:host{--cells-product-summary:{min-height:170px;};--cells-product-summary-header-icon:{padding-bottom:0px;};--cells-product-summary-bottom-summary:{flex-direction:column;margin:1rem 0 0 0;};--cells-product-summary-more-info:{margin:0 auto;};--cells-product-summary-more-info-btn:{margin:0 auto;padding:0;};--cells-product-summary-after:{height:100%;};--cells-product-summary-cells-key-values-item-container-last-of-type:{margin-bottom:0;};--cells-key-values-key-value-margin:0;--cells-key-values-reversed-key:{line-height:1.6;font-size:var(--cells-text-size-ml, .9375rem);@apply --cells-fontDefaultNormal;};--cells-key-values-value-simple:{line-height:1.2;font-size:var(--cells-text-size-xxl, 1.25rem);@apply --cells-fontDefaultNormal;};--cells-product-summary-optional-items-key-values-reversed-key:{line-height:1.6;font-size:var(--cells-text-size-ml, .9375rem);@apply --cells-fontDefaultNormal;};background-color:var(--cells-product-summary-card-background, rgba(238, 238, 238, 0.73));display:flex;flex-direction:column;-webkit-transform:translateZ(0);transform:translateZ(0);@apply --cells-product-summary-deposit;}:host .deposit-conditions{background:var(--bbva-white, #fff);font-size:var(--cells-text-size-m, 0.875rem);font-family:var(--cells-fontDefault, sans-serif);padding:2.5rem 1.875rem 1.875rem;@apply --cells-product-summary-deposit-conditions;}:host .deposit-conditions__title{font-size:var(--cells-text-size-ml, 0.9375rem);font-weight:var(--cells-fontDefaultMedium, 500);display:flex;align-items:center;margin-bottom:1.875rem;padding-right:0.625rem;@apply --cells-product-summary-deposit-conditions-title;}:host .deposit-conditions__title cells-atom-icon{color:var(--bbva-dark-medium-blue, #1973b8);--cells-atom-icon:{vertical-align:baseline;};}:host .deposit-conditions__row{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.625rem;@apply --cells-product-summary-deposit-condition-row;}:host .deposit-conditions__row cells-st-button{margin-left:0.3125rem;}:host .deposit-conditions__row cells-atom-icon{color:var(--bbva-medium-blue, #237ABA);}:host .deposit-conditions__row cells-atom-amount{flex:1;text-align:right;display:block;}:host .deposit-conditions .date{font-style:italic;font-weight:var(--cells-fontDefaultMedium, 500);color:var(--bbva-600, #121212);@apply --cells-product-summary-deposit-condition-date;}:host .deposit-conditions .renovation{text-align:right;}:host([hide-more-info-button]){--cells-product-summary-bottom-summary:{margin:0;};@apply --cells-product-summary-deposit-hide-more-info-button;}</style></template></dom-module><dom-module id="cells-product-summary-deposit" assetpath="cells-product-summary-deposit/"><template><style include="cells-product-summary-deposit-styles cells-product-summary-deposit-shared-styles"></style><cells-product-summary id="summary" heading="[[t(deposit.alias)]]" loading="{{loading}}" main-items="[[_mainItems]]" optional-items="[[_optionalItems]]" hide-more-info-button="[[hideMoreInfoButton]]" label-more-info="cells-product-summary-more-info-deposit" error="{{error}}" error-message="[[errorMessage]]" action-error-label="[[actionErrorLabel]]" on-cells-product-summary-more-info="_notifyDeposit"></cells-product-summary><template is="dom-if" if="[[showDepositConditions]]"><div class="deposit-conditions"><div class="deposit-conditions__title"><span>[[t('cells-product-summary-deposit-conditions', '_DEPOSIT CONDITIONS_')]]</span></div><div class="deposit-conditions-date"><template is="dom-if" if="[[depositConditions.openingDate]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-initial-date', '_Initial date_')]]</span> <span class="date">[[_formatDate(depositConditions.openingDate)]]</span></div></template><template is="dom-if" if="[[depositConditions.maturityDate]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-expiration-date', '_Expiration date_')]]</span> <span class="date">[[_formatDate(depositConditions.maturityDate)]]</span></div></template></div><template is="dom-if" if="[[deposit.renovationType.description]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-expiration-instruction', '_Expiration instruction_')]]</span> <span class="renovation">[[depositConditions.renovationType]]</span></div></template></div></template><template is="dom-if" if="[[showDepositAlternativeConditions]]"><div class="deposit-conditions"><div class="deposit-conditions__title"><span>[[t('cells-product-summary-deposit-current-fixed-term', '_CURRENT FIXED TERM_')]]</span></div><div class="deposit-conditions-date"><template is="dom-if" if="[[depositConditions.maturityDate]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-expiration-date', '_Expiration date_')]]</span> <span class="date">[[_formatDate(depositConditions.maturityDate)]]</span></div></template></div><template is="dom-if" if="[[depositConditions.depositTime]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-term', '_Term_')]]</span> <span class="renovation">[[depositConditions.depositTime]]</span></div></template><template is="dom-if" if="[[depositConditions.annualRate]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-tna', '_TNA_')]]</span> <span class="renovation">[[depositConditions.annualRate]]</span></div></template><template is="dom-if" if="[[depositConditions.interest]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-interest', '_Interest_')]]</span> <span class="renovation">[[depositConditions.interest]]</span></div></template><template is="dom-if" if="[[depositConditions.origin]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-uva-origin', '_Capital Origin UVAs_')]]</span> <span class="renovation">[[depositConditions.origin]]</span></div></template><template is="dom-if" if="[[depositConditions.minimumAmount]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-uva-amount', '_Minimum amount to be charged_')]]</span> <span class="renovation">[[depositConditions.minimumAmount]]</span></div></template><template is="dom-if" if="[[depositConditions.latam]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-latam', '_Latam Miles_')]]</span> <span class="renovation">[[depositConditions.latam]]</span></div></template><template is="dom-if" if="[[depositConditions.periodRate]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-insured-rate', '_Rate Insured_')]]</span> <span class="renovation">[[depositConditions.periodRate]]</span></div></template><template is="dom-if" if="[[depositConditions.currentBalances]]"><div class="deposit-conditions__row deposit-conditions__row--border"><span class="desc desc--title">[[t('cells-product-summary-deposit-total-amount', '_Total amount_')]]</span> <span class="renovation">[[depositConditions.currentBalances]]</span></div></template></div></template><slot></slot></template><script>/**
* @summary Wraps deposit type product detail.
* @customElement
* @polymer
* @extends {Polymer.Element}
*/ /*eslint new-cap: [2, {"capIsNewExceptions": ["AmountBehavior"]}]*/var CellsProductSummaryDeposit=/*#__PURE__*/function(_Polymer$mixinBehavio){babelHelpers.inherits(CellsProductSummaryDeposit,_Polymer$mixinBehavio);function CellsProductSummaryDeposit(){babelHelpers.classCallCheck(this,CellsProductSummaryDeposit);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(CellsProductSummaryDeposit).apply(this,arguments))}babelHelpers.createClass(CellsProductSummaryDeposit,[{key:"reset",/**
   * Reset
   */value:function reset(){this.set("deposit",void 0);this.error=!1;this.loading=!0}/**
   * Navigate to more info page
   */},{key:"_notifyDeposit",value:function _notifyDeposit(){this.dispatchEvent(new CustomEvent("cells-product-summary-more-info-navigation",{bubbles:!0,composed:!0,detail:{productId:this.productId}}))}/**
   ** Set error
   */},{key:"onDepositError",value:function onDepositError(){this.error=!0;this.loading=!1}/**
   ** error handler
   */},{key:"errorHandler",value:function errorHandler(message){this.errorMessage=message.message;this.onDepositError();this.actionErrorLabel=message.actionErrorLabel}/**
   * Sets custom property from deposit based on a key
   */},{key:"_setCustomItems",value:function _setCustomItems(deposit,itemKey){var customItem=deposit.hasOwnProperty(itemKey)?deposit[itemKey]:[];this.set("_".concat(itemKey),customItem)}/**
   * Sets the alias on to display on Edit Alias placeholder.
   * @param {Object} deposit - Deposit to display.
   * @return {String}
   */},{key:"_setAliasItem",value:function _setAliasItem(deposit){this.dispatchEvent(new CustomEvent("set-deposit-alias-placeholder",{bubbles:!0,composed:!0,detail:{alias:this.get("alias",deposit),name:this.get("title.name",deposit)}}))}/**
   * Observes the deposit property
   */},{key:"_depositChanged",value:function _depositChanged(deposit){if(deposit){this._setCustomItems(deposit,"mainItems");this._setCustomItems(deposit,"optionalItems");this._setAliasItem(deposit)}this.loading=!1;this.error=!1}/**
   * Computed the deposit conditions
   * @param {Object} deposit
   */},{key:"computeDepositConditionsByType",value:function computeDepositConditionsByType(){var deposit=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(0!==Object.keys(deposit).length){var depositTypes={classic:"0",classicRent:"1",variableinterest:"4",uva:"5",latam:"6",insuredRate:"7",badlar:"8",immediate:"9"},depositId=this.get("title.id",deposit),depositCurrency=this.get("currencies.0.currency",deposit),depConditions={openingDate:deposit.openingDate,maturityDate:deposit.maturityDate,depositTime:"".concat(this.get("term.number",deposit)," ").concat(this.get("term.depositTimeType.name",deposit)),annualRate:this._getPercentValue(deposit.annualRate),interest:this.getFormattedAmount(this.get("interestPayment.liquidationWindows.0.totalInterests.amount",deposit),depositCurrency,this.localCurrency,this.language,!0,!0,!0),currentBalances:this.getFormattedAmount(this.get("currentBalances.0.amount",deposit),depositCurrency,this.localCurrency,this.language,!0,!0,!0)};if(depositId===depositTypes.uva){Object.assign(depConditions,{minimumAmount:depConditions.currentBalances,origin:this.getFormattedAmount(this.get("currentBalances.1.amount",deposit),depositCurrency,this.localCurrency,this.language,!0,!0,!0)});depConditions.currentBalances=null}else if(depositId===depositTypes.latam){depConditions.interest=null;depConditions.annualRate=null;Object.assign(depConditions,{latam:this.getFormattedAmount(this.get("rewards.0.balance.points",deposit),depositCurrency,this.localCurrency,this.language,!1,!1,!1)})}else if(depositId===depositTypes.badlar||depositId===depositTypes.insuredRate){Object.assign(depConditions,{periodRate:this._getPercentValue(deposit.periodRate)})}return depConditions}}/**
   * Return string percent value
   */},{key:"_getPercentValue",value:function _getPercentValue(value){value=value||0;if("number"===typeof value){value=value.toFixed(this.quantityFractional).split(".");return"".concat(value[0],",").concat(value[1],"%")}else if("string"===typeof value){value=parseFloat(value).toFixed(this.quantityFractional).split(".");return"".concat(value[0],",").concat(value[1],"%")}}/**
   * Computed the deposit conditions
   * @param {Object} deposit
   */},{key:"_computeDepositConditions",value:function _computeDepositConditions(deposit){if(deposit){if(this.showDepositAlternativeConditions){return this.computeDepositConditionsByType(deposit)}return{openingDate:deposit.openingDate,maturityDate:deposit.maturityDate,renovationType:deposit.renovationType&&deposit.renovationType.description}}}/**
   * Returns a formatted date
   * @param {String} date - Date to be formatted.
   * @return {String} Formatted date
   */},{key:"_formatDate",value:function _formatDate(date){/* global moment */var formattedDateMonth=moment(date).format("MMM");formattedDateMonth=formattedDateMonth.charAt(0).toUpperCase()+formattedDateMonth.slice(1);return"".concat(moment(date).format("DD")," ").concat(formattedDateMonth," ").concat(moment(date).format("YYYY"))}},{key:"_computeShowDepositConditions",value:function _computeShowDepositConditions(showDepositConditions,error){return showDepositConditions&&!error}}],[{key:"is",get:function get(){return"cells-product-summary-deposit"}},{key:"properties",get:function get(){return{/**
       * Deposit information
       * @type {Object}
       */deposit:{type:Object,observer:"_depositChanged"},/**
       * Deposit Conditions
       */depositConditions:{type:Object,computed:"_computeDepositConditions(deposit)"},/**
       * Swhow deposit conditions
       */showDepositConditions:{type:Boolean,value:!1},/**
       * Show deposit alternative conditions
       */showDepositAlternativeConditions:{type:Boolean,value:!1},/**
       * Language
       */language:{type:String,value:"es"},/**
       * Loaded data
       * @type {Boolean}
       */loading:{type:Boolean,value:!0},/**
       * Array with main information of the Deposit
       * @type {Array}
       */_mainItems:Array,/**
       * Array with optional information of the Deposit
       * @type {Array}
       */_optionalItems:Array,/**
       * Set to true to hide the "More info" button.
       */hideMoreInfoButton:{type:Boolean,value:!1,reflectToAttribute:!0},/**
       * Product Id
       */productId:{type:String},/**
       * Indicates if component has error data
       */error:{type:Boolean,value:!1,notify:!0},/**
       * error message
       */errorMessage:{type:String,value:"cells-product-summary-deposit-error"},/**
       * action error label
       */actionErrorLabel:{type:String}}}}]);return CellsProductSummaryDeposit}(Polymer.mixinBehaviors([CellsBehaviors.i18nBehavior],CellsBehaviors.AmountBehavior(Polymer.Element)));window.customElements.define(CellsProductSummaryDeposit.is,CellsProductSummaryDeposit);</script></dom-module></div></body></html>